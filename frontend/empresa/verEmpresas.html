<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ver empresas</title>
</head>
<body>
    <h1>Empresas</h1>
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Nombre</th>
                <th>Ubicacion</th>
                <th>Sector</th>
                <th>Descripcion</th>
                <th colspan="2">Operaciones</th>
            </tr>
        </thead>
        <tbody id="empresas-tabla">
            <!-- Aqui se insertan las empresas -->
        </tbody>
        <tfoot>
            <tr>
                <th colspan="3"><a href="nuevaEmpresa.html">Agregar empresa</th>
            </tr>
        </tfoot>
    </table>
    <script>
        fetch('../../api/EMPRESA.php')
        .then (response => response.json())
        .then (data => {
            const empresasTabla = document.getElementById('empresas-tabla');
            data.forEach(empresa => {
                const row=document.createElement('tr');
                row.innerHTML=`
                    <td>${empresa.emp_id}</td>
                    <td>${empresa.emp_nom}</td>
                    <td>${empresa.emp_ubicacio}</td>
                    <td>${empresa.emp_sector}</td>
                    <td>${empresa.emp_descripcio}</td>

                    <td><a href='verEmpresa.html?id=${empresa.emp_id}'>Ver</a></td>
                    <td><a href='modificarEmpresa.html?id=${empresa.emp_id}'>Modificar</a></td>
                    <td><a href='eliminarEmpresa.html?id=${empresa.emp_id}'>Eliminar</a></td>
                
                `;
                empresasTabla.appendChild(row);
            });
        });
    </script>
</body>
</html>